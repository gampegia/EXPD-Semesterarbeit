View(PLZO_CSV_LV03)
View(PLZO_CSV_LV03)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ"
)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ",
all.x = TRUE)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ",
all.y = TRUE)
load("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\ZHAW\\Semester 1\\ExpD\\Grundlagen\\bestellungen.rda")
library(readr)
PLZO_CSV_LV03 <- read_delim("GitHub/ZHAW/Semester 1/ExpD/Grundlagen/PLZO_CSV_LV03.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ",
all.y = TRUE)
View(agg)
View(PLZO_CSV_LV03)
View(PLZO_CSV_LV03)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ",
all = FALSE)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ",
all.y = FALSE)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ",
all.x = FALSE)
View(bestellungen)
View(bestellungen)
load("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\ZHAW\\Semester 1\\ExpD\\Grundlagen\\bestellungen.rda")
library(readr)
PLZO_CSV_LV03 <- read_delim("GitHub/ZHAW/Semester 1/ExpD/Grundlagen/PLZO_CSV_LV03.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(PLZO_CSV_LV03)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = "PLZ",
all.x = TRUE)
View(agg)
View(agg)
View(bestellungen)
View(bestellungen)
View(PLZO_CSV_LV03)
View(PLZO_CSV_LV03)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = c("PLZ", "Zusatzziffer"),
all.x = TRUE)
kantone <- PLZO_CSV_LV03$Kantonskuerzel
kantone <- unique(PLZO_CSV_LV03$Kantonskuerzel)
kantone <- sort(unique(PLZO_CSV_LV03$Kantonskuerzel))
length(kantone)
aggregate(x = agg,
by = agg$Kantonskuerzel,
FUN = sum(nrow(agg$Kantonskuerzel)))
aggregate(x = agg,
by = agg$Kantonskuerzel,
FUN = sum(agg$Kantonskuerzel))
aggregate(x = length(agg$Kantonskuerzel),
by = agg$Kantonskuerzel,
FUN = sum(agg$Kantonskuerzel))
aggregate(x = length(agg$Kantonskuerzel),
by = list(agg$Kantonskuerzel),
FUN = sum)
aggregate(x = agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = sum)
aggregate(x = agg,
by = list(agg$Kantonskuerzel),
FUN = sum)
aggregate(x = agg,
by = list(agg$Kantonskuerzel),
FUN = length())
aggregate(x = agg,
by = list(agg$Kantonskuerzel),
FUN = length(agg$Kantonskuerzel))
summary_data <- aggregate(cbind(Anzahl_Bestellungen = Preis, Preis, Datum) ~ Kantonskuerzel, data = agg,
FUN = function(x) c(Anzahl_Bestellungen = length(x),
Mittlerer_Preis = mean(x),
Maximaler_Preis = max(x),
Datum_Letzte_Bestellung = max(as.Date(agg$Datum, format="%Y-%m-%d"))))
summary_data <- aggregate(cbind(Anzahl_Bestellungen = preis, preis, timestamp()) ~ Kantonskuerzel, data = agg,
FUN = function(x) c(Anzahl_Bestellungen = length(x),
Mittlerer_Preis = mean(x),
Maximaler_Preis = max(x),
Datum_Letzte_Bestellung = max(as.Date(agg$Datum, format="%Y-%m-%d"))))
##------ Mon Nov 13 21:05:20 2023 ------##
colnames(summary_data) <- c("Kanton", "Anzahl_Bestellungen", "Mittlerer_Preis", "Maximaler_Preis", "Datum_Letzte_Bestellung")
print(summary_data)
aggregate(x = agg$preis ~ agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length(agg$Kantonskuerzel))
aggregate(x = agg$preis ~ agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = sum)
aggregate(x = agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean())
aggregate(x = agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean())
aggregate(x = agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
FUN = round(mean, 2)
aggregate(x = agg$preis,
by = list(agg$Kantonskuerzel),
FUN = round(mean, 2))
aggregate(x = agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
aggregate(x = agg,
by = list(agg$Kantonskuerzel),
FUN = mean)
aggregate(x = agg$Kantonskuerzel,
aggregate(x = agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
dat <- aggregate(x = agg$Kantonskuerzel,
dat <- aggregate(x = agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = sum)
dat <- aggregate(x = agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = cumsum)
dat <- aggregate(x = agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = sum())
dat <- aggregate(x = agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length())
dat <- aggregate(x = agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length(agg$Kantonskuerzel))
?airquality
airquality$windstatus == "NA"
print(airquality)
airquality$windstatus <- airquality$Wind >= 12
gsub(airquality$windstatus, FALSE, "nicht-windig")
gsub(airquality$windstatus, "FALSE", "nicht-windig")
View(airquality)
gsub(FALSE, airquality$windstatus, "nicht-windig")
gsub("FALSE", airquality$windstatus, "nicht-windig")
gsub("FALSE", "nicht-windig", airquality$windstatus)
gsub("TRUE", "windig", airquality$windstatus)
airquality$windstatus <- airquality$Wind >= 12
gsub("FALSE", "nicht-windig", airquality$windstatus)
gsub(c("FALSE", "TRUE"), c("nicht-windig", "windig"), airquality$windstatus)
gsub(FALSE, "nicht-windig", airquality$windstatus)
airquality$windstatus <- gsub(FALSE, "nicht-windig", airquality$windstatus)
airquality$windstatus <- gsub(TRUE, "windig", airquality$windstatus)
aggwind <- aggregate(x = airquality$Month,
by = list(airquality$windstatus),
FUN = sum)
aggwind
aggwind <- aggregate(x = airquality$windstatus,
by = list(airquality$Month),
FUN = sum)
airquality$windstatusboolean <- airquality$Wind >= 12
aggwind <- aggregate(x = airquality$windstatusboolean,
by = list(airquality$Month),
FUN = sum)
aggwind
colnames(aggwind) <- c("Monat", "Anzahl_Windtage")
aggwind
aggwind <- aggregate(x = airquality$Solar.R ~ airquality$Wind,
by = list(airquality$Month),
FUN = mean,
na.action = na.rm)
aggwind <- aggregate(x = airquality$Solar.R ~ airquality$Wind,
by = list(airquality$Month),
FUN = mean)
aggwind <- aggregate(x = airquality$Solar.R,
by = list(airquality$Month),
FUN = mean)
aggsolwind <- aggregate(x = airquality$Solar.R,
by = list(airquality$Month),
FUN = mean)
aggsolwind
aggsolwind <- aggregate(Solar.R ~ Wind,
data = airquality,
by = list(airquality$Month),
FUN = mean,
na.action =
)
aggsolwind <- aggregate(Solar.R ~ Wind,
data = airquality,
by = list(airquality$Month),
FUN = mean,
na.action = na.omit
)
aggsolwind <- aggregate(Solar.R,
data = airquality,
by = list(airquality$Month),
FUN = mean,
na.action = na.omit)
aggsolwind <- aggregate(airquality$Solar.R,
by = list(airquality$Month),
FUN = mean,
na.action = na.omit)
aggsolwind <- aggregate(airquality$Solar.R ~ airquality$Wind,
by = list(airquality$Month),
FUN = mean,
na.action = na.omit)
aggsolwind <- aggregate(c(airquality$Solar.R, airquality$Wind),
by = list(airquality$Month),
FUN = mean,
na.action = na.omit)
aggsolwind <- aggregate(cbind(Solar.R, Wind) ~ Month,
data = airquality,
FUN = mean,
na.action = na.omit)
aggsolwind
aggsolwind <- aggregate(airquality,
by = (airquality$Solar.R, airquality$Wind),
aggsolwind <- aggregate(airquality$Month,
by = (airquality$Solar.R, airquality$Wind),
aggsolwind <- aggregate(airquality$Month,
by = list(airquality$Solar.R, airquality$Wind),
data = airquality,
FUN = mean,
na.action = na.omit)
aggsolwind
mean(airquality$Wind)
aggsolwind <- aggregate(cbind(Solar.R, Wind) ~ Month,
data = airquality,
FUN = mean,
na.action = na.omit)
aggsolwind
aggsolwind <- aggregate(list(airquality$Solar.R, airquality$windstatus),
by = airquality$Month,
data = airquality,
FUN = mean,
na.action = na.omit)
aggsolwind <- aggregate(list(airquality$Solar.R, airquality$windstatus),
by = list(airquality$Month),
data = airquality,
FUN = mean,
na.action = na.omit)
aggsolwind <- aggregate(cbind(Solar.R, Wind) ~ Month,
data = airquality,
FUN = mean,
na.action = na.omit)
aggsolwind
aggairquality <- aggregate((airquality) ~ Month,
FUN = mean,
na.action = na.omit)
aggairquality <- aggregate((airquality),
FUN = mean,
na.action = na.omit)
aggairquality <- aggregate(cbind(Ozone, Solar.R, Wind, Temp) ~ Month,
data = airquality,
FUN = mean,
na.action = na.omit)
aggairquality
dat <- aggregate(cbind(preis),
data = agg,
FUN = sum)
dat <- aggregate(cbind(Preis),
data = agg,
FUN = sum)
dat <- aggregate(cbind(preis) ~ kantone,
data = agg,
FUN = sum)
dat <- aggregate(agg$preis ~ kantone,
data = agg,
FUN = mean)
dat <- aggregate(agg$preis.
by = list(agg$Kantonskuerzel),
dat <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat
dat <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat
dat <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = c(mean, max))
dat <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = list(mean, max))
datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
datmax <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
max
datdate
datdate <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max)
datdate
datlength<- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = sum)
datlength<- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
datlength
dat$length<- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
dat$mean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat$max <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max)
dat
dat$mean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat$max <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max)
dat
dat <- merge(c(datdate, datlength, datmax, datmean),
by = ~"Group")
dat$length<- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
dat$mean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat$max <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max)
dat
load("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\ZHAW\\Semester 1\\ExpD\\Grundlagen\\bestellungen.rda")
library(readr)
PLZO_CSV_LV03 <- read_delim("GitHub/ZHAW/Semester 1/ExpD/Grundlagen/PLZO_CSV_LV03.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = c("PLZ", "Zusatzziffer"),
all.x = TRUE)
kantone <- sort(unique(PLZO_CSV_LV03$Kantonskuerzel))
dat$length<- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
dat$mean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat$max <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max,
)
dat
dat = 1
dat$length<- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
load("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\ZHAW\\Semester 1\\ExpD\\Grundlagen\\bestellungen.rda")
library(readr)
PLZO_CSV_LV03 <- read_delim("GitHub/ZHAW/Semester 1/ExpD/Grundlagen/PLZO_CSV_LV03.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
agg <- merge(x = bestellungen,
y = PLZO_CSV_LV03,
by = c("PLZ", "Zusatzziffer"),
all.x = TRUE)
kantone <- sort(unique(PLZO_CSV_LV03$Kantonskuerzel))
dat <- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
dat$mean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat$max <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max,
)
dat$length <- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
dat$mean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat$max <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max,
)
View(dat)
dat$length <- aggregate(agg$Kantonskuerzel,
by = list(agg$Kantonskuerzel),
FUN = length)
dat$mean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = mean)
dat$max <- datmean <- aggregate(agg$preis,
by = list(agg$Kantonskuerzel),
FUN = max)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max,
)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max,
)
dat$date <- datmean <- aggregate(agg$timestamp,
by = list(agg$Kantonskuerzel),
FUN = max)
tinytex::install_tinytex()
tinytex::install_tinytex()
setwd("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
# setwd("C:\\Users\\glm87\\Documents\\GITHUB\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
library(readr)
install.packages("ggplot2")
library("ggplot2")
dat <- read_csv("school-shootings-data.csv")
View(dat)
# Age of Shooter
vec_shooter_age <- c(dat$age_shooter1,dat$age_shooter2)
setwd("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
# setwd("C:\\Users\\glm87\\Documents\\GITHUB\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
library(readr)
install.packages("ggplot2")
library("ggplot2")
dat <- read_csv("school-shootings-data.csv")
View(dat)
# Age of Shooter
vec_shooter_age <- c(dat$age_shooter1,dat$age_shooter2)
vec_shooter_age <- na.exclude(vec_shooter_age)
View(vec_shooter_age)
hist(vec_shooter_age, col = "lightblue", xlab = "Age [Years]",
main = "Age of school shooters", ylab = "Density",
breaks = c(seq(0, 80, by = 1)),
las = 1, freq = FALSE)
axis(side=1, at=seq(0, 100, by=10))
median_age_shooter <- median(vec_shooter_age,na.rm = TRUE)
abline(v = median_age_shooter, col = "red", lty = 1, lwd = 2)
legend("top", legend = paste("Median =", median_age_shooter), col = "red", lty = 1, lwd = 2)
# Number schoolshootings
hist(dat$year,
breaks = c(seq(1999, 2023)),
main = "Numbers of school shootings in the US since 1999",
xaxt = "n",
xlab = "Years",
col = "lightblue")
axis(side = 1, at = seq(1999, 2023, by = 1), las = 2)
meanshootings <- length(dat$year)/length(unique(dat$year))
# Median
mediantable <- table(dat$year)
medianshootings <- median(c(mediantable))
# Add Median and Legend to plot
abline(h = medianshootings, col = "red", lty = 1, lwd = 2)
legend("top", legend = paste("Median Shootings: ", round(medianshootings, 2)), col = "red", lty = 1, lwd = 2)
# W8
# Diagramm 1
plot(x = dat$age_shooter1,
y = dat$casualties,
col = adjustcolor("black", alpha = 0.2),
pch = 19,
main = "Shooter Age / Number of casualties",
ylab = "Number of casualties",
xlab = "Age of the shooter",
log = "y",
)
abline(v = median_age_shooter, col = "red", lwd = 2)
legend("topright", legend = paste("Median age of shooter: ", round(median_age_shooter, 2)), col = "red", lty = 1, lwd = 2)
# DIAGRAMM 2
diag_shooting_type <- ggplot(dat, aes(x = casualties, y = shooting_type)) +
geom_boxplot()
diag_shooting_type + labs(x = "Casualties" , y = "Shooting Type" , title ="Casulties per shooting Type"  )
#| label: setup
setwd("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
# setwd("C:\\Users\\glm87\\Documents\\GITHUB\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
library(readr)
install.packages("ggplot2")
library("ggplot2")
dat <- read_csv("school-shootings-data.csv")
install.packages("ggplot2")
#| label: setup
setwd("C:\\Users\\jonas\\OneDrive\\Dokumente\\GitHub\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
# setwd("C:\\Users\\glm87\\Documents\\GITHUB\\EXPD-Semesterarbeit\\EXPD Semesterarbeit")
library(readr)
install.packages("ggplot2")
library("ggplot2")
dat <- read_csv("school-shootings-data.csv")
install.packages("ggplot2")
install.packages("ggplot2")
